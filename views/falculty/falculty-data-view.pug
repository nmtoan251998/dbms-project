extends ../layout/common

block main
    link(rel="stylesheet", href="/styles/falculty-data.css", type="text/css")    
    script(src="/scripts/paginator.js")
    .table-data
        .table-search
            form(action='')
                input.search-input(type='text', name='search-name', placeholder='Input falculty name here...')
                button.search-button Search
        table.table
            thead.thead
                tr
                    th#sort-id(title='Identification') 
                        | Id 
                        i.fas.fa-sort
                    th#sort-name(title='Name')
                        | Faculty name 
                        i.fas.fa-sort
                    th#sort-dean(title='Dean')
                        | Dean 
                        i.fas.fa-sort
                    th#functions(title='Functions')
                        | Functions                        
            tbody.tbody
                each ChildFalculty in listFalculty
                    tr.tb-data
                        td(title='') #{ChildFalculty.Id}
                        td(title='') #{ChildFalculty.FalName}
                        td(title='') #{ChildFalculty.Dean}
                        td.function(title='')
                            i.fas.fa-trash-alt(id='')
                            i.fas.fa-pencil-alt(id='')
                            i.fas.fa-eye(id='')
                caption(title='CTU Falculties') Table name: Cantho univerysity's falculties
        .paginator
            .total-item-page
                label(for='total-item-page') Total item per page:
                select#total-item-page(name='total-item-page', onchange=`location = this.value`)
                    option(value=`/falculty/data?page=${page}&size=5`) Pick
                    option(value=`/falculty/data?page=${page}&size=5`) 5
                    option(value=`/falculty/data?page=${page}&size=10`) 10
                    option(value=`/falculty/data?page=${page}&size=25`) 25
                    option(value=`/falculty/data?page=${page}&size=50`) 50
                    option(value=`/falculty/data?page=${page}&size=100`) 100
            //- Paginating
            - var increaseIndex = false
            - var decreaseIndex = false
            - var pageIndex = 1
            if(page === 1)                                
                a.pagination(href=`/falculty/data?page=${page}&size=${item}` style="margin-right: .5rem")
                    i#previous.fas.fa-arrow-alt-circle-left
            else
                a.pagination(href=`/falculty/data?page=${page-1}&size=${item}` style="margin-right: .5rem")
                    i#previous.fas.fa-arrow-alt-circle-left
            .number 
                
                if(checkUp === true)
                    - pageIndex += 5
                    - increaseIndex = false
                if(checkDown === true)
                    - pageIndex -= 5
                    - decreaseIndex = false
                - for(var i = 0; i < 5; i++, pageIndex++)                    
                    if(page === pageIndex)
                        a.activating.page-index(href=`/falculty/data?page=${pageIndex}&size=${item}`)= pageIndex
                    else
                        a.page-index(href=`/falculty/data?page=${pageIndex}&size=${item}`)= pageIndex
            a(href=`/falculty/data?page=${page+1}&size=${item}`).pagination
                i#previous.fas.fa-arrow-alt-circle-right
            .total-item
                label(for='total-item') Total faculties:
                input#total-item(type='button', value='')
